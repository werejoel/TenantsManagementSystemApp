@using TenantsManagementApp.ViewModels.Claims
@model ClaimEditViewModel
@{
ViewData["Title"] = "Delete Claim";
}
<div class="container mt-0">
<div class="row g-4 justify-content-center">
<div class="col-lg-8 col-xl-7">
<div class="card shadow border-0 rounded">
<div class="card-header bg-danger text-white">
<i class="bi bi-exclamation-octagon me-2"></i> Confirm Claim Deletion
</div>
@if (TempData["Error"] is string err)
{
<div class="alert alert-danger alert-dismissible fade show" role="alert">
<i class="bi bi-exclamation-triangle me-2"></i>@err
<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
}
@if (TempData["Success"] is string ok)
{
<div class="alert alert-success alert-dismissible fade show" role="alert">
<i class="bi bi-check-circle me-2"></i>@ok
<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
}
<div class="card-body">
<!-- Strong warning -->
<div class="alert alert-danger" role="alert">
<div class="fw-semibold mb-1">Are you sure you want to delete this claim?</div>
<div class="small mb-0">
This action <strong>cannot be undone</strong>. If this claim is assigned to users or roles, those assignments will also be removed.
</div>
</div>
<!-- Claim summary -->
<div class="mb-3">
<div class="small text-uppercase text-muted mb-2">Claim Summary</div>
<ul class="list-group list-group-flush">
<li class="list-group-item d-flex justify-content-between align-items-center px-0">
<span class="text-muted"><i class="bi bi-tag me-2"></i>Claim Type</span>
<span class="fw-semibold">@Model.ClaimType</span>
</li>
<li class="list-group-item d-flex justify-content-between align-items-center px-0">
<span class="text-muted"><i class="bi bi-key me-2"></i>Claim Value</span>
<span class="fw-semibold">@Model.ClaimValue</span>
</li>
<li class="list-group-item d-flex justify-content-between align-items-center px-0">
<span class="text-muted"><i class="bi bi-diagram-3 me-2"></i>Category</span>
<span>
<span class="badge rounded-pill bg-primary">@Model.Category</span>
</span>
</li>
<li class="list-group-item d-flex justify-content-between align-items-center px-0">
<span class="text-muted"><i class="bi bi-info-circle me-2"></i>Description</span>
<span class="fw-semibold">@(!string.IsNullOrWhiteSpace(Model.Description) ? Model.Description : "-")</span>
</li>
<li class="list-group-item d-flex justify-content-between align-items-center px-0">
<span class="text-muted"><i class="bi bi-activity me-2"></i>Status</span>
<span>
<span class="badge rounded-pill @(Model.IsActive ? "bg-success" : "bg-secondary")">
@(Model.IsActive ? "Active" : "Inactive")
</span>
</span>
</li>
</ul>
</div>
<!-- Confirm form -->
<form asp-action="Delete" method="post" class="mt-3">
<input type="hidden" asp-for="Id" />
<div class="form-check mb-3">
<input class="form-check-input" type="checkbox" value="true" id="confirmChk">
<label class="form-check-label" for="confirmChk">
I understand this action is permanent and cannot be undone.
</label>
</div>
<div class="d-flex justify-content-end gap-2">
<button type="submit" class="btn btn-danger" id="deleteBtn" disabled>
<i class="bi bi-trash3 me-1"></i> Yes, Delete
</button>
<a asp-action="Index" class="btn btn-info">
<i class="bi bi-x-circle me-1"></i> Cancel
</a>
<a asp-action="Index" class="btn btn-primary">
<i class="bi bi-arrow-left me-1"></i> Back to Claims
</a>
</div>
</form>
</div>
<div class="card-footer bg-light small text-muted">
Deleted claims cannot be recovered. If you might need this claim later, consider deactivating it instead.
</div>
</div>
</div>
</div>
</div>
@section Scripts {
<script>
// Enable Delete button only when confirmation is checked
const chk = document.getElementById('confirmChk');
const btn = document.getElementById('deleteBtn');
if (chk && btn) {
chk.addEventListener('change', () => btn.disabled = !chk.checked);
}
</script>
}